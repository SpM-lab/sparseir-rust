# cbindgen configuration for SparseIR C API

# Output language
language = "C"

# Include guard name
include_guard = "SPARSEIR_CAPI_H"

# Header content
header = """
/**
 * @file sparseir_capi.h
 * @brief C API for SparseIR library (Auto-generated by cbindgen)
 *
 * This header is automatically generated from Rust source code.
 * Do not modify this file manually - edit the Rust sources instead.
 */
"""

# Warning at the top of the file
autogen_warning = "/* Warning: This file is autogenerated by cbindgen. Don't modify manually. */"

# Generate documentation from Rust doc comments
documentation = true

# C++ compatibility
cpp_compat = true

# Tab width for formatting
tab_width = 4

# Bracket style
braces = "SameLine"

# Line length
line_length = 100

# Include version info
include_version = true

# Export configuration
[export]
# Include these items
include = [
    "spir_kernel",
    "StatusCode",
]

# Prefix for all symbols (optional)
# prefix = "spir_"

# Renaming - keep StatusCode as int (libsparseir compatible)
# [export.rename]
# No renaming needed - StatusCode is typedef'd as libc::c_int

# Enum configuration
[enum]
rename_variants = "None"

# Structure configuration
[struct]
rename_fields = "None"

# Function configuration
[fn]
# Sort functions alphabetically
sort_by = "Name"

# Constant configuration
[const]
allow_static_const = true

# Macro configuration
[macro_expansion]
bitflags = true

